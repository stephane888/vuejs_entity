"use strict";(("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]=("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]||[]).push([[196],{27196:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"info"},on:{click:t.duplicateEntities}},[t._v(" duplicate entities ")]),n("div",[t._v("numbersEntities: "+t._s(t.numbersEntities))])],1)},a=[],s=n(62537),u=(n(41539),n(88674),n(47941),n(91555)),c={name:"TextDuplicateEntities",data:function(){return{payload:{id:139,content:{name:[{value:"Bienvenue chez test"}],field_domain_access:[{target_id:"test328_wb_horizon_kksa"}],field_domain_source:[{target_id:"test328_wb_horizon_kksa"}],is_default_theme:[{value:!1}]}}}},computed:(0,s.Z)((0,s.Z)({},(0,u.rn)(["entityDuplicate"])),(0,u.Se)(["numbersEntities"])),mounted:function(){},methods:{duplicateEntities:function(){var t=this;this.$store.dispatch("duplicateEntities",this.payload).then((function(){t.prepareSaveEntities(t.$store.state)}))},prepareSaveEntities:function(t){var e=this,n=function t(n,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise((function(c,o){if(n[s]){var r=n[s];if(n[s].entities){var d=Object.keys(n[s].entities);i(n[s].entities,d[0],n[s].entity,d,0).then((function(t){e.$store.dispatch("saveEntity",{entity_type_id:n[s].target_type,value:t,index:s}).then((function(t){n[s].entity=t.data.json,s+=1,s<n.length?c(a(n,s)):c(n)})).catch((function(t){o(t)}))}))}else e.$store.dispatch("saveEntity",{entity_type_id:r.target_type,value:r.entity,index:s}).then((function(e){u.push({target_id:e.data.id,index:s}),s+=1,n.length<=s?c(t(n,s,u)):c(u)})).catch((function(t){o(t)}))}else c(u)}))},i=function t(e,i,a,s,u){return new Promise((function(c){e[i]&&e[i].length>0?n(e[i],0).then((function(n){a[i]=n,u+=1,s.length>u?c(t(e,s[u],a,s,u)):c(a)})):c(a)}))},a=function t(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(s,u){if(n[a])if(n[a].entities){var c=Object.keys(n[a].entities);i(n[a].entities,c[0],n[a].entity,c,0).then((function(i){e.$store.dispatch("saveEntity",{entity_type_id:n[a].target_type,value:i,index:a}).then((function(e){n[a].entity=e.data.json,a+=1,a<n.length?s(t(n,a)):s(n)})).catch((function(t){u(t)}))}))}else e.$store.dispatch("saveEntity",{entity_type_id:n[a].target_type,value:n[a].entity,index:a}).then((function(e){n[a].entity=e.data.json,a+=1,a<n.length?s(t(n,a)):s(n)})).catch((function(t){u(t)}));else s([])}))};a(t.entityDuplicate,0)}}},o=c,r=n(1001),d=(0,r.Z)(o,i,a,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=EntityDrupal.umd.min.196.js.map