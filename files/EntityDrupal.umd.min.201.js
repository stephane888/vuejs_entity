"use strict";(("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]=("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]||[]).push([[201],{95201:function(e,t,n){n.r(t),n.d(t,{default:function(){return st}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.render_template,{tag:"component"})],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"step-donneesite mx-auto text-center",attrs:{get_running:e.get_running}},[n("ValidationObserver",{attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.fields,(function(e,t){return n(e.template,{key:t,tag:"component",attrs:{field:e.field,model:e.model,class_css:["fieldset-wrapper",e.field.type]}})})),n("div",[n("nextPreviewVue",{attrs:{validation_form:t}})],1)]}}])})],1)},a=[],o=n(79296),l=(n(47941),n(66992),n(41539),n(33948),n(54747),n(77203)),u=n.n(l),c=n(91555),d=n(12950),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css},[n("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-form-group",{attrs:{label:e.field.label,description:e.field.description}},[n("div",{staticClass:"field-item-value"},[n("b-form-input",{attrs:{placeholder:e.field.placeholder,state:e.getValidationState(t),name:e.field.name,debounce:"500"},on:{input:e.input},model:{value:e.input_value,callback:function(t){e.input_value=t},expression:"input_value"}})],1),t.errors?n("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return n("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])]}}])})],1)},m=[],p=(n(68309),n(85549)),_=n(63809);(0,p.l7)("email",_.Do),(0,p.l7)("required",(0,o.Z)((0,o.Z)({},_.C1),{},{message:"Ce champs est requis"})),(0,p.l7)("alpha",_.Fq),(0,p.l7)("alpha",_.uR);var g={name:"drupal-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}},components:{ValidationProvider:p.d_},data:function(){return{input_value:null}},mounted:function(){this.input_value=this.getValue()},methods:{getValidationState:function(e){var t=e.dirty,n=e.validated,i=e.valid,r=void 0===i?null:i;return!t&&!n||r?null:r},getRules:function(){return G.getRules(this.field)},setValue:function(e){this.$store.dispatch("renderByStep/setValue",{value:e,fieldName:this.field.name})},getValue:function(){if(this.model[this.field.name]&&this.model[this.field.name][0])return this.model[this.field.name][0].value},input:function(e){var t=[];t.push({value:e}),this.setValue(t)}}},h=g,v=n(1001),b=(0,v.Z)(h,f,m,!1,null,null,null),y=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css},[n("b-form-group",{attrs:{label:e.field.label,description:e.field.description}},e._l(e.model[e.field.name],(function(t,i){return n("div",{key:i,staticClass:"field-item-value"},[n("b-form-input",{attrs:{placeholder:e.field.placeholder,type:"color"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"val.value"}})],1)})),0)],1)},x=[],w={name:"drupal-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}}},C=w,S=(0,v.Z)(C,k,x,!1,null,null,null),Z=S.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css,attrs:{field:"drupal_boolean"}},[n("div",{staticClass:"field-item-value js-form-type-radio",attrs:{format_val:e.format_val}},[n("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-form-group",{attrs:{label:e.field.label,name:e.field.name}},[n("div",{staticClass:"fieldset-wrapper"},[n("div",{staticClass:"radio"},e._l(e.field.entity_form_settings.list_options,(function(i,r){return n("b-form-radio",{key:r,staticClass:"form-check",attrs:{name:e.field.name,value:i.value,state:e.getValidationState(t)},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[n("b-img",{attrs:{thumbnail:"",fluid:"",src:i.image_url,alt:"Image 1"}}),n("div",{staticClass:"mt-5"},[e._v(e._s(i.label))]),i.description.value&&""!==i.description.value?n("div",{staticClass:"mt-5 text-hover",domProps:{innerHTML:e._s(i.description.value)}}):e._e()],1)})),1),t.errors?n("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return n("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])])]}}])})],1)])},$=[],j={name:"drupal-boolean",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}},components:{ValidationProvider:p.d_},data:function(){return{selected:null}},mounted:function(){this.getImage()},watch:{fieldName:function(){this.getImage()}},methods:{getImage:function(){var e=this;this.field.entity_form_settings.list_options.forEach((function(t){t.image_url||e.$set(t,"image_url",""),t.image[0]&&""==t.image_url&&G.getImageUrl(t.image[0]).then((function(e){t.image_url=e.data}))}))},setValue:function(e){this.$store.dispatch("renderByStep/setValue",{value:e,fieldName:this.field.name})},getValidationState:function(e){var t=e.dirty,n=e.validated,i=e.valid,r=void 0===i?null:i;return!t&&!n||r?null:r},getRules:function(){return G.getRules(this.field)}},computed:{format_val:function(){var e=[];return null!==this.selected&&e.push({value:this.selected}),this.setValue(e),e},fieldName:function(){return this.field.name}}},R=j,T=(0,v.Z)(R,E,$,!1,null,null,null),V=T.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css},[n("div",{staticClass:"field-item-value js-form-type-checkbox",attrs:{format_val:e.format_val}},[n("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-form-group",{attrs:{label:e.field.label}},[n("div",{staticClass:"fieldset-wrapper"},[n("div",{staticClass:"checkbox"},[n("b-form-checkbox-group",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.field.entity_form_settings.list_options,(function(t,i){return n("b-form-checkbox",{key:i,staticClass:"form-check",attrs:{value:t.value}},[n("div",[n("b-img",{attrs:{thumbnail:"",fluid:"",src:t.image_url,alt:"Image 1"}})],1),n("div",{staticClass:"mt-5"},[e._v(e._s(t.label))]),t.description.value&&""!==t.description.value?n("div",{staticClass:"mt-5 text-hover",domProps:{innerHTML:e._s(t.description.value)}}):e._e()])})),1)],1),t.errors?n("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return n("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])])]}}])})],1)])},F=[],q={name:"drupal-list-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object],required:!0}},components:{ValidationProvider:p.d_},data:function(){return{selected:[]}},mounted:function(){this.getImage()},watch:{fieldName:function(){this.getImage()}},methods:{getImage:function(){var e=this;this.field.entity_form_settings.list_options.forEach((function(t){t.image_url||e.$set(t,"image_url",""),t.image[0]&&""==t.image_url&&G.getImageUrl(t.image[0]).then((function(e){t.image_url=e.data}))}))},setValue:function(e){this.$store.dispatch("renderByStep/setValue",{value:e,fieldName:this.fieldName})},getRules:function(){return G.getRules(this.field)}},computed:{format_val:function(){var e=[];return this.selected&&this.selected.forEach((function(t){e.push({value:t})})),this.setValue(e),e},fieldName:function(){return this.field.name}}},N=q,P=(0,v.Z)(N,I,F,!1,null,null,null),A=P.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css},[n("div",{domProps:{innerHTML:e._s(e.field.content)}})])},L=[],H={props:{class_css:{type:[Array]},field:{type:Object,required:!0}}},O=H,U=(0,v.Z)(O,B,L,!1,null,null,null),M=U.exports,G=(0,o.Z)((0,o.Z)({},d.Z),{},{getField:function(e){var t,n=e.type;switch("list_string"==n&&1==e.cardinality&&(n="boolean"),console.log(n),n){case"string":t=y;break;case"color_theme_field_type":t=Z;break;case"boolean":t=V;break;case"list_string":t=A;break;case"render_html":t=M;break;case"text_long":t=M;break;default:break}return t},getImageUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return this.get("/vuejs-entity/image/"+e+"/"+t)},getRules:function(e){var t={};if(e.constraints)for(var n in e.constraints)"NotNull"==n&&(t["required"]=!0);return t}}),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-between align-items-center step-donneesite--submit mx-auto",attrs:{check_validation:e.check_validation}},[e.current_step&&!e.creation_running?n("b-button",{attrs:{variant:"secondary"},on:{click:e.previewStep}},[n("b-icon",{attrs:{icon:"arrow-left"}}),e._v(" Precedent ")],1):e._e(),e.count_step<e.steppers.length?n("b-button",{attrs:{variant:"primary",disabled:e.disabled},on:{click:e.nextStep}},[e._v(" Suivant "),n("b-icon",{attrs:{icon:"arrow-right"}})],1):e._e(),e.count_step>=e.steppers.length&&!e.finish_status?n("b-button",{attrs:{variant:"primary",disabled:e.creation_running},on:{click:e.create_site}},[e._v(" je cree mon site "),e.creation_running?e._e():n("b-icon",{staticClass:"ml-2",attrs:{icon:"check2","font-scale":"2"}}),e.creation_running?n("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise","font-scale":"2",animation:"spin"}}):e._e()],1):e._e()],1)},z=[],W={name:"next-preview",props:{validation_form:{type:Object,required:!0}},data:function(){return{disabled:!1}},mounted:function(){this.ajustStep()},computed:(0,o.Z)((0,o.Z)({},(0,c.rn)({creation_running:function(e){return e.creation_running},steppers:function(e){return e.renderByStep.steppers},current_step:function(e){return e.renderByStep.current_step},finish_status:function(e){return e.finish_status}})),{},{count_step:function(){return this.current_step+1},check_validation:function(){return!(!this.disabled||!this.validation_form.valid)&&(this.validationStep(),!0)}}),methods:{nextStep:function(){this.validationStep()&&(this.$store.commit("renderByStep/nextStep"),this.$router.push({path:"/form-render/".concat(this.current_step)}))},previewStep:function(){this.$store.commit("renderByStep/previewStep"),this.$router.push({path:"/form-render/".concat(this.current_step)})},validationStep:function(){if(this.validation_form.valid)return this.disabled=!1,!0;this.validation_form.validate(),this.disabled=!0},ajustStep:function(){var e=parseInt(this.$route.params.idstep);parseInt(this.current_step)!==e&&e<=this.steppers.length&&this.$store.commit("renderByStep/nextStep",e)},create_site:function(){this.$store.dispatch("create_site")}}},J=W,X=(0,v.Z)(J,D,z,!1,null,null,null),K=X.exports,Q=n(69832),Y=n.n(Q),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("div",{staticClass:"accordion",attrs:{role:"tablist"}},e._l(e.buildFields(),(function(t,i){return n("b-card",{key:i,staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+i,expression:"'accordion-' + c"}],attrs:{block:"",variant:"info"},domProps:{innerHTML:e._s(t.title)}})],1),n("b-collapse",{attrs:{id:"accordion-"+i,visible:"",accordion:"my-accordion-layout-render",role:"tabpanel"}},[n("b-card-body",e._l(t.fields,(function(e,t){return n(e.template,{key:t,tag:"component",attrs:{field:e.field,fieldName:e.fieldName,key_config:e.key_config,class_css:[]}})})),1)],1)],1)})),1)])},te=[],ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.class_css},[n("b-form-group",{attrs:{label:e.field.text.label}},[n("b-form-input",{attrs:{name:e.fieldName},on:{input:e.input},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},ie=[],re={name:"field-text",props:{class_css:{type:Array},fieldName:{type:String,required:!0},key_config:{type:String,required:!0},field:{type:Object,required:!0},sub_store:{type:String,default:"storeLayout"}},data:function(){return{value:this.field.text.value}},methods:{input:function(e){var t={key_config:this.key_config,fieldName:this.fieldName,type:"text",value:e};this.$store.commit(this.sub_store+"/setValue",t)}}},se=re,ae=(0,v.Z)(se,ne,ie,!1,null,null,null),oe=ae.exports,le={getTemplate:function(e){var t=null,n=Object.keys(e);switch(n[0]){case"text":t=oe;break;default:break}return t}},ue={name:"layoutRenderHeader",computed:(0,o.Z)({},(0,c.rn)("storeLayout",{configuration:function(e){return e.configuration}})),methods:{buildFields:function(){var e=[];for(var t in this.configuration)if(this.configuration[t]["builder-form"]){var n=[];for(var i in this.configuration[t].fields)n.push({template:le.getTemplate(this.configuration[t].fields[i]),field:this.configuration[t].fields[i],fieldName:i,key_config:t});e.push({title:this.configuration[t].info.title,fields:n})}return e}}},ce=ue,de=(0,v.Z)(ce,ee,te,!1,null,null,null),fe=de.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("div",{staticClass:"accordion",attrs:{role:"tablist"}},e._l(e.buildFields(),(function(t,i){return n("b-card",{key:i,staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+i,expression:"'accordion-' + c"}],attrs:{block:"",variant:"info"},domProps:{innerHTML:e._s(t.title)}})],1),n("b-collapse",{attrs:{id:"accordion-"+i,visible:"",accordion:"my-accordion-layout-render",role:"tabpanel"}},[n("b-card-body",e._l(t.fields,(function(e,t){return n(e.template,{key:t,tag:"component",attrs:{field:e.field,fieldName:e.fieldName,key_config:e.key_config,sub_store:"storeLayoutFooter",class_css:[]}})})),1)],1)],1)})),1)])},pe=[],_e={name:"layoutRenderFooter",computed:(0,o.Z)({},(0,c.rn)("storeLayoutFooter",{configuration:function(e){return e.configuration}})),methods:{buildFields:function(){var e=[];for(var t in this.configuration)if(this.configuration[t]["builder-form"]){var n=[];for(var i in this.configuration[t].fields)n.push({template:le.getTemplate(this.configuration[t].fields[i]),field:this.configuration[t].fields[i],fieldName:i,key_config:t});e.push({title:this.configuration[t].info.title,fields:n})}return e},saveLayout:function(){this.$store.dispatch("storeLayoutFooter/saveLayout")}}},ge=_e,he=(0,v.Z)(ge,me,pe,!1,null,null,null),ve=he.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" ( en cours de dev connexion ). "),n("loginGoogle",{staticClass:"mb-3",attrs:{idHtml:"app-form-login",returnUidInfo:!0},on:{ev_logingoogle:e.ev_logingoogle}})],1)},ye=[],ke=(n(97330),n(12220),n(31252)),xe=(0,o.Z)((0,o.Z)({},ke.EC),{},{getRandomIntInclusive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:99,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}),we=xe,Ce={url_session:"/session/token",token:null,getToken:function(){var e=this;return new Promise((function(t){e.token&&t(e.token),console.log(" Config :: ",we.BaseUrl(),"\n this.url_session :: ",e.url_session),we.get(we.BaseUrl()+e.url_session).then((function(n){e.token=n.data,t(n.data)}))}))}},Se=n(22030),Ze=(n(74854),(0,o.Z)((0,o.Z)({},we),{},{dPost:function(e,t){var n=arguments,i=this;return(0,Se.Z)(regeneratorRuntime.mark((function r(){var s,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=n.length>2&&void 0!==n[2]?n[2]:null,r.next=3,Ce.getToken();case 3:return a=r.sent,o={"X-CSRF-Token":a,"Content-Type":"application/json"},s&&(o=i.mergeHeaders(s,o)),r.abrupt("return",i.post(e,t,{headers:o}));case 7:case"end":return r.stop()}}),r)})))()},dGet:function(e){var t=arguments,n=this;return(0,Se.Z)(regeneratorRuntime.mark((function i(){var r,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:null,i.next=3,Ce.getToken();case 3:return s=i.sent,a={"X-CSRF-Token":s,"Content-Type":"application/json"},r&&(a=n.mergeHeaders(r,a)),i.abrupt("return",n.get(e,{headers:a}));case 7:case"end":return i.stop()}}),i)})))()},mergeHeaders:function(e,t){if(e)for(var n in e)t[n]=e[n];return t}})),Ee=Ze,$e=(n(93995),n(87330),n(15196),(0,o.Z)((0,o.Z)({},Ee),{},{getCurrentUser:function(){var e=this;return new Promise((function(t){e.get("/appformmanager/current-user").then((function(e){t(e.data)}))}))},getUser:function(e){var t=this;return new Promise((function(n){t.get("/user/"+e+"?_format=json").then((function(e){n(e.data)}))}))}}),n(33773),n(55090),n(87544),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttton-google-aouth",class:e.classRender,attrs:{id:e.idHtmlrender}})}),je=[],Re={userAccess:{},client_id:"513247959752-qapd9jb30pdtoh51m0h53070a2v8c4er.apps.googleusercontent.com"},Te={AfterRedirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("AfterRedirect action .",e);var i=null;if("redirect"==e&&t);else if("home"==e)window.location.assign("/");else if("reload"==e)window.location.reload(),console.log("reload this page");else if("emit_even"==e){var r=new CustomEvent("login_rx_vuejs__user_is_login");document.dispatchEvent(r)}else"default"==e&&(n.reponse&&n.reponse.config.url!==n.reponse.request.responseURL?window.location.assign(n.reponse.request.responseURL):n.data&&n.data.createuser?i="final-gl-register":n.data&&window.location.reload());return i}};function Ve(e){return new Promise((function(t){var n=document.createElement("script");n.setAttribute("src",e),n.onload=function(){console.log(" Chargement du script ok : ",e),t(!0)},document.head.appendChild(n)}))}var Ie={name:"logingoogle",props:{idHtml:{type:String,required:!0},returnUidInfo:{type:Boolean,default:!1},classRender:{type:Array,default:function(){return["mx-auto"]}},action_after_login:{type:String,default:"default"}},mounted:function(){var e=this;window.google?this.getUserInfoFromFrame():Ve("https://accounts.google.com/gsi/client").then((function(){e.getUserInfoFromFrame()}))},computed:{idHtmlrender:function(){return"google-login-tab"+this.idHtml}},methods:{getUserInfoFromFrame:function(){var e=this;function t(t){console.log("Encoded JWT ID token: ",t),Re.userAccess=(0,o.Z)((0,o.Z)({},t),{},{client_id:t.clientId}),e.TryToLoginWithGoogle(),window.rxGoogle=Re}console.log(" window.onload ! ",window.onload);var n=function(){window.google.accounts.id.initialize({client_id:Re.client_id,callback:t}),window.google.accounts.id.renderButton(document.getElementById(e.idHtmlrender),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()};n()},TryToLoginWithGoogle:function(){var e=this;return new Promise((function(t,n){Ee.post("/login-rx-vuejs/google-check",Re.userAccess).then((function(n){e.isBusy=!1,e.alertDisplay=!0,e.alertType="alert-success",e.alertText="Connexion réussie",e.$emit("ev_logingoogle",n.data),e.returnUidInfo||Te.AfterRedirect(e.action_after_login,null,n),t(n)})).catch((function(t){e.isBusy=!1,e.alertDisplay=!0,e.alertType="alert-danger",e.alertText="Google : Erreur de connexion",t.error&&t.error.statusText&&""!=t.error.statusText&&(e.alertText=t.error.statusText),console.log(" Error ajax ",t.error),console.log(" Error ajax ",t.code),console.log(" Error ajax ",t.stack),n(t)}))}))}}},Fe=Ie,qe=(0,v.Z)(Fe,$e,je,!1,null,null,null),Ne=qe.exports,Pe={name:"page-register",components:{loginGoogle:Ne},methods:{ev_logingoogle:function(e){console.log(e)}}},Ae=Pe,Be=(0,v.Z)(Ae,be,ye,!1,null,null,null),Le=Be.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[e._v(" Creer votre site maintenant !!! ")]),e._m(0),e.creation_running?n("div",{staticClass:"text-left mx-auto content-save-text"},[n("ul",{staticClass:"puce-step-vertical step-build"},e._l(e.build_steps,(function(t,i){return n("li",{key:i,class:["ok"==t.status?"active":"","error"==t.status?"text-danger":""]},[e._v(" "+e._s(t.titre)+" "),"run"==t.status?n("b-icon",{staticClass:"ml-auto",attrs:{icon:"three-dots","font-scale":"1.3",animation:"cylon",variant:"primary"}}):e._e(),"ok"==t.status?n("b-icon",{staticClass:"ml-auto",attrs:{icon:"check2","font-scale":"1.5",variant:"primary"}}):e._e()],1)})),0),e.finish_status?n("div",{staticClass:"action d-flex flex-column"},[n("b-button",{on:{click:e.open_new_site}},[e._v(" Visiter votre nouveau site "),n("b-icon",{staticClass:"float-right",attrs:{icon:"award","font-scale":"1.3"}})],1),n("b-button",{on:{click:e.open_new_site_admin}},[e._v(" Administrer son contenu "),n("b-icon",{staticClass:"float-right",attrs:{icon:"folder-symlink","font-scale":"1.3"}})],1)],1):e._e(),e.finish_status?n("div",{staticClass:"my-5 h3"},[e._v(" Votre site web : "),n("a",{on:{click:e.open_new_site}},[n("b",[e._v(" "+e._s(e.new_hostname)+" ")])])]):e._e()]):e._e()])},Oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"step-donneesite--label"},[e._v(" Si votre contenu vous convient, cliquez sur le bouton "),n("b",[e._v(" 'Je cree mon site' ")]),e._v(". Vous pourriez le modifier à tout moment. ")])}],Ue={name:"page-save",data:function(){return{}},computed:(0,o.Z)({},(0,c.rn)({build_steps:function(e){return e.build_steps},creation_running:function(e){return e.creation_running},finish_status:function(e){return e.finish_status},new_hostname:function(e){return e.new_hostname}})),methods:{open_new_site:function(){window.open(this.new_hostname,"_blank")},open_new_site_admin:function(){window.open(this.new_hostname+"/user","_blank")}}},Me=Ue,Ge=(0,v.Z)(Me,He,Oe,!1,null,null,null),De=Ge.exports;u().use(Y());var ze={name:"renderByStep",data:function(){return{fields:[]}},components:{nextPreviewVue:K,ValidationObserver:p._j},mounted:function(){},computed:(0,o.Z)((0,o.Z)({},(0,c.rn)("renderByStep",{form:function(e){return e.form},current_step:function(e){return e.current_step},model:function(e){return e.model},steppers:function(e){return e.steppers},running:function(e){return e.running}})),{},{get_running:function(){var e=Object.keys(this.form);return e.length&&(console.log("get_running"),this.buildFields()),this.running}}),methods:{buildFields:function(){var e=this;this.fields=[];var t=this.steppers[this.current_step];return t.keys&&t.keys.length&&(console.log("buildFields"),t.keys.forEach((function(t){e.form[t]&&(e.model[t]?e.fields.push({template:G.getField(e.form[t]),field:e.form[t],model:e.model}):e.fields.push({template:G.getField(e.form[t]),field:e.form[t]}))}))),t.templates&&t.templates.length&&t.templates.forEach((function(t){"layout_entete"==t?e.fields.push({template:fe,field:{}}):"layout_footer"==t?e.fields.push({template:ve,field:{}}):"page_register"==t?e.fields.push({template:Le,field:{}}):"page_save"==t&&e.fields.push({template:De,field:{}})})),this.fields}}},We=ze,Je=(0,v.Z)(We,s,a,!1,null,null,null),Xe=Je.exports,Ke=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Qe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("This is an about page")])])}],Ye={},et=(0,v.Z)(Ye,Ke,Qe,!1,null,null,null),tt=et.exports,nt={data:function(){return{render_template:null,type_render:"by-step"}},name:"formRender",mounted:function(){this.getRender()},methods:{getRender:function(){switch(this.type_render){case"by-step":this.render_template=Xe;break;default:this.render_template=tt;break}}}},it=nt,rt=(0,v.Z)(it,i,r,!1,null,null,null),st=rt.exports}}]);
//# sourceMappingURL=EntityDrupal.umd.min.201.js.map