"use strict";(("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]=("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]||[]).push([[337],{4259:function(e,t,r){r.r(t),r.d(t,{default:function(){return fe}});var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r(e.render_template,{tag:"component"})],1)},l=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"step-donneesite mx-auto text-center"},[r("ValidationObserver",{attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.buildFields(),(function(e,t){return r(e.template,{key:t,tag:"component",attrs:{field:e.field,model:e.model,fieldName:e.fieldName,class_css:["fieldset-wrapper",e.field.type]}})})),r("div",[r("nextPreviewVue",{attrs:{validation_form:t}})],1)]}}])})],1)},s=[],a=r(9296),o=(r(1539),r(4747),r(6992),r(3948),r(7203)),u=r.n(o),d=r(1555),c=r(7410),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.class_css},[r("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:e.field.label,description:e.field.description}},[e._l(e.model[e.field.name],(function(i,l){return r("div",{key:l,staticClass:"field-item-value"},[r("b-form-input",{attrs:{placeholder:e.field.placeholder,state:e.getValidationState(t),name:e.field.name},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"val.value"}})],1)})),t.errors?r("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return r("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()],2)]}}])})],1)},m=[],p=r(5549),v=r(3809);(0,p.l7)("email",v.Do),(0,p.l7)("required",(0,a.Z)((0,a.Z)({},v.C1),{},{message:"Ce champs est requis"})),(0,p.l7)("alpha",v.Fq),(0,p.l7)("alpha",v.uR);var _={name:"drupal-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}},components:{ValidationProvider:p.d_},methods:{getValidationState:function(e){var t=e.dirty,r=e.validated,i=e.valid,l=void 0===i?null:i;return!t&&!r||l?null:l},getRules:function(){return U.getRules(this.field)}}},h=_,g=r(1001),b=(0,g.Z)(h,f,m,!1,null,null,null),y=b.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.class_css},[r("b-form-group",{attrs:{label:e.field.label,description:e.field.description}},e._l(e.model[e.field.name],(function(t,i){return r("div",{key:i,staticClass:"field-item-value"},[r("b-form-input",{attrs:{placeholder:e.field.placeholder,type:"color"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"val.value"}})],1)})),0)],1)},x=[],C={name:"drupal-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}}},S=C,V=(0,g.Z)(S,k,x,!1,null,null,null),$=V.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.class_css,attrs:{field:"drupal_boolean"}},[r("div",{staticClass:"field-item-value js-form-type-radio",attrs:{format_val:e.format_val}},[r("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:e.field.label,name:e.field.name}},[r("div",{staticClass:"fieldset-wrapper"},[r("div",{staticClass:"radio"},e._l(e.field.entity_form_settings.list_options,(function(i,l){return r("b-form-radio",{key:l,staticClass:"form-check",attrs:{name:e.field.name,value:i.value,state:e.getValidationState(t)},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[r("b-img",{attrs:{thumbnail:"",fluid:"",src:i.image_url,alt:"Image 1"}}),r("div",{staticClass:"mt-5"},[e._v(e._s(i.label))]),i.description.value&&""!==i.description.value?r("div",{staticClass:"mt-5 text-hover",domProps:{innerHTML:e._s(i.description.value)}}):e._e()],1)})),1),t.errors?r("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return r("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])])]}}])})],1)])},Z=[],E=(r(8309),{name:"drupal-boolean",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object,Array],required:!0}},components:{ValidationProvider:p.d_},data:function(){return{selected:null}},mounted:function(){this.getImage()},watch:{fieldName:function(){this.getImage()}},methods:{getImage:function(){var e=this;this.field.entity_form_settings.list_options.forEach((function(t){t.image_url||e.$set(t,"image_url",""),t.image[0]&&""==t.image_url&&U.getImageUrl(t.image[0]).then((function(e){t.image_url=e.data}))}))},setValue:function(e){this.$store.commit("renderByStep/setValue",{value:e,fieldName:this.fieldName})},getValidationState:function(e){var t=e.dirty,r=e.validated,i=e.valid,l=void 0===i?null:i;return!t&&!r||l?null:l},getRules:function(){return U.getRules(this.field)}},computed:{format_val:function(){var e=[];return null!==this.selected&&e.push({value:this.selected}),this.setValue(e),e},fieldName:function(){return this.field.name}}}),j=E,q=(0,g.Z)(j,w,Z,!1,null,null,null),R=q.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.class_css},[r("div",{staticClass:"field-item-value js-form-type-checkbox",attrs:{format_val:e.format_val}},[r("ValidationProvider",{attrs:{name:e.field.name,rules:e.getRules()},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:e.field.label}},[r("div",{staticClass:"fieldset-wrapper"},[r("div",{staticClass:"checkbox"},[r("b-form-checkbox-group",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.field.entity_form_settings.list_options,(function(t,i){return r("b-form-checkbox",{key:i,staticClass:"form-check",attrs:{value:t.value}},[r("div",[r("b-img",{attrs:{thumbnail:"",fluid:"",src:t.image_url,alt:"Image 1"}})],1),e._v(" "+e._s(t.label)+" "),t.description.value&&""!==t.description.value?r("div",{staticClass:"mt-5 text-hover",domProps:{innerHTML:e._s(t.description.value)}}):e._e()])})),1)],1),t.errors?r("div",{staticClass:"text-danger my-2"},e._l(t.errors,(function(t,i){return r("small",{key:i,staticClass:"d-block"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])])]}}])})],1)])},O=[],P={name:"drupal-list-string",props:{class_css:{type:[Array]},field:{type:Object,required:!0},model:{type:[Object],required:!0}},components:{ValidationProvider:p.d_},data:function(){return{selected:[]}},mounted:function(){this.getImage()},watch:{fieldName:function(){this.getImage()}},methods:{getImage:function(){var e=this;this.field.entity_form_settings.list_options.forEach((function(t){t.image_url||e.$set(t,"image_url",""),t.image[0]&&""==t.image_url&&U.getImageUrl(t.image[0]).then((function(e){t.image_url=e.data}))}))},setValue:function(e){this.$store.commit("renderByStep/setValue",{value:e,fieldName:this.fieldName})},getRules:function(){return U.getRules(this.field)}},computed:{format_val:function(){var e=[];return this.selected&&this.selected.forEach((function(t){e.push({value:t})})),this.setValue(e),e},fieldName:function(){return this.field.name}}},I=P,F=(0,g.Z)(I,N,O,!1,null,null,null),A=F.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.class_css},[r("div",{domProps:{innerHTML:e._s(e.field.content)}})])},T=[],D={props:{class_css:{type:[Array]},field:{type:Object,required:!0}}},H=D,L=(0,g.Z)(H,B,T,!1,null,null,null),M=L.exports,U=(0,a.Z)((0,a.Z)({},c.Z),{},{getField:function(e){var t,r=e.type;switch("list_string"==r&&1==e.cardinality&&(r="boolean"),console.log(r),r){case"string":t=y;break;case"color_theme_field_type":t=$;break;case"boolean":t=R;break;case"list_string":t=A;break;case"render_html":t=M;break;case"text_long":t=M;break;default:break}return t},getImageUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return this.get("/vuejs-entity/image/"+e+"/"+t)},getRules:function(e){var t={};if(e.constraints)for(var r in e.constraints)"NotNull"==r&&(t["required"]=!0);return t}}),z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-around align-items-center step-donneesite--submit",attrs:{check_validation:e.check_validation}},[e.current_step?r("b-button",{attrs:{variant:"secondary"},on:{click:e.previewStep}},[r("b-icon",{attrs:{icon:"arrow-left"}}),e._v(" Precedent ")],1):e._e(),e.count_step<e.steppers.length?r("b-button",{attrs:{variant:"primary",disabled:e.disabled},on:{click:e.nextStep}},[e._v(" Suivant "),r("b-icon",{attrs:{icon:"arrow-right"}})],1):e._e()],1)},G=[],J={name:"next-preview",props:{validation_form:{type:Object,required:!0}},data:function(){return{disabled:!1}},computed:(0,a.Z)((0,a.Z)({},(0,d.rn)("renderByStep",{current_step:function(e){return e.current_step},steppers:function(e){return e.steppers}})),{},{count_step:function(){return this.current_step+1},check_validation:function(){return!(!this.disabled||!this.validation_form.valid)&&(this.validationStep(),!0)}}),methods:{nextStep:function(){this.validationStep()&&this.$store.commit("renderByStep/nextStep")},previewStep:function(){this.$store.commit("renderByStep/previewStep")},validationStep:function(){if(this.validation_form.valid)return this.disabled=!1,!0;this.validation_form.validate(),this.disabled=!0}}},K=J,Q=(0,g.Z)(K,z,G,!1,null,null,null),W=Q.exports,X=r(9832),Y=r.n(X);u().use(Y());var ee={name:"renderByStep",data:function(){return{fields:[]}},components:{nextPreviewVue:W,ValidationObserver:p._j},mounted:function(){this.buildFields()},computed:(0,a.Z)({},(0,d.rn)("renderByStep",{form:function(e){return e.form},current_step:function(e){return e.current_step},model:function(e){return e.model},steppers:function(e){return e.steppers}})),methods:{buildFields:function(){var e=this;console.log("buildFields");var t=[],r=this.steppers[this.current_step];return r.keys.forEach((function(r){e.form[r]&&(e.model[r]?t.push({template:U.getField(e.form[r]),field:e.form[r],model:e.model}):t.push({template:U.getField(e.form[r]),field:e.form[r]}))})),t}}},te=ee,re=(0,g.Z)(te,n,s,!1,null,null,null),ie=re.exports,le=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("This is an about page")])])}],se={},ae=(0,g.Z)(se,le,ne,!1,null,null,null),oe=ae.exports,ue={data:function(){return{render_template:null,type_render:"by-step"}},name:"formRender",mounted:function(){this.$store.commit("renderByStep/loadForm"),this.getRender()},methods:{getRender:function(){switch(this.type_render){case"by-step":this.render_template=ie;break;default:this.render_template=oe;break}}}},de=ue,ce=(0,g.Z)(de,i,l,!1,null,null,null),fe=ce.exports}}]);
//# sourceMappingURL=EntityDrupal.umd.min.337.js.map