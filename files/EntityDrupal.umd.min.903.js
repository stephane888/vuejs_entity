"use strict";(("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]=("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]||[]).push([[903],{27903:function(e,t,i){i.r(t),i.d(t,{default:function(){return f}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form-group",{attrs:{label:e.field.label}},["options_select"==e.field.type?i("b-form-select",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):i("b-form-radio-group",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},a=[],r=(i(91605),i(60343),i(70915)),s=i(83435),u={name:"OptionsEntities",components:{},props:{field:{type:Object,required:!0},model:{type:[Object,Array],required:!0},namespaceStore:{type:String,required:!0}},data:function(){return{options:[],selected:null}},mounted:function(){this.loadTerms(),this.selected=this.getValue()},methods:{loadTerms:function(){var e=this,t=this.getFistVocab();if(t&&s.Z.config){var i=new r.Z(t,t,s.Z.config);i.get().then((function(){e.options=i.getOptions()}))}},getFistVocab:function(){if(this.field.definition_settings.handler_settings.target_bundles){var e=Object.keys(this.field.definition_settings.handler_settings.target_bundles);return this.field.definition_settings.handler_settings.target_bundles[e[0]]}return this.field.definition_settings.target_type?this.field.definition_settings.target_type:null},input:function(e){var t=[];t.push({target_id:e}),this.$emit("setValue",t)},getValue:function(){return this.model[this.field.name]&&this.model[this.field.name][0]?this.model[this.field.name][0].value?this.model[this.field.name][0].value:this.model[this.field.name][0].target_id:null}}},l=u,d=i(1001),o=(0,d.Z)(l,n,a,!1,null,null,null),f=o.exports},70915:function(e,t,i){var n=i(93995),a=i(86017),r=(i(41539),i(88674),i(26699),i(32023),i(68309),i(1730)),s=i(5334),u=i(57724),l=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,n.Z)(this,e),this.entity_type_id=t,i||(i=t),this.url=s.Z.baseURl+"/"+this.entity_type_id+"/"+i,this.items=[],this.newConfig=a,a&&a.TestDomain&&(r.Z.TestDomain=a.TestDomain),this.filterQuery=""}return(0,a.Z)(e,[{key:"get",value:function(){var e=this;return new Promise((function(t){e.filterQuery&&(e.filterQuery=e.url.includes("?")?"&"+e.filterQuery:"?"+e.filterQuery),r.Z.dGet(e.url+e.filterQuery,s.Z.headers).then((function(i){e.items=i.data,t(i.data)}))}))}},{key:"getSearch",value:function(e){var t=this,i=new u.Z;return i.addFilter("name","CONTAINS",e),new Promise((function(e){r.Z.dGet(t.url+"?"+i.query,s.Z.headers).then((function(i){t.items=i.data,e(i.data)}))}))}},{key:"getValue",value:function(e){var t=this,i=new u.Z;return i.addFilter("name","=",e),new Promise((function(e){r.Z.dGet(t.url+"?"+i.query,s.Z.headers).then((function(i){t.items=i.data,e(i.data)}))}))}},{key:"getValueByTid",value:function(e){var t=this,i=new u.Z;return i.addFilter("tid","=",e),new Promise((function(e,n){r.Z.dGet(t.url+"?"+i.query,s.Z.headers).then((function(i){t.items=i.data,e(i.data)})).catch((function(e){n(e)}))}))}},{key:"getValueById",value:function(e){var t=this,i=new u.Z,n="drupal_internal__id";switch(this.entity_type_id){case"user":n="uid";break;case"node":n="drupal_internal__nid";break;case"taxonomy_term":n="tid";break}return i.addFilter(n,"=",e),new Promise((function(e){r.Z.dGet(t.url+"?"+i.query,s.Z.headers).then((function(i){t.items=i.data,e(i.data)}))}))}},{key:"filter",value:function(e,t,i){var n=new u.Z;n.addFilter(e,t,i),n.query&&(this.filterQuery?this.filterQuery+="&"+n.query:this.filterQuery+=n.query)}},{key:"addIncludesEntities",value:function(){}},{key:"getOptions",value:function(){var e=[];for(var t in this.items.data){var i=this.items.data[t];"user"==this.entity_type_id?e.push({text:i.attributes.name?i.attributes.name:i.attributes.display_name,value:i.attributes.drupal_internal__uid}):i.attributes.name?e.push({text:i.attributes.name,value:i.attributes.drupal_internal__id}):i.attributes.label&&e.push({text:i.attributes.label,value:i.attributes.drupal_internal__id})}return e}},{key:"remplaceConfig",value:function(){for(var e in this.newConfig)r.Z[e]=this.newConfig[e]}}]),e}();t["Z"]=l}}]);
//# sourceMappingURL=EntityDrupal.umd.min.903.js.map