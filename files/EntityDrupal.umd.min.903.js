(("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]=("undefined"!==typeof self?self:this)["webpackChunkEntityDrupal"]||[]).push([[903],{27903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form-group",{attrs:{label:e.field.label}},["options_select"==e.field.type?n("b-form-select",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):n("b-form-radio-group",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},r=[],a=(n(91605),n(60343),n(70915)),s=n(41666),u={name:"OptionsEntities",components:{},props:{field:{type:Object,required:!0},model:{type:[Object,Array],required:!0},namespaceStore:{type:String,required:!0}},data:function(){return{options:[],selected:null}},mounted:function(){this.loadTerms(),this.selected=this.getValue()},methods:{loadTerms:function(){var e=this,t=this.getFistVocab();if(t&&s.Z.config){var n=new a.Z(t,t,s.Z.config);n.get().then((function(){e.options=n.getOptions()}))}},getFistVocab:function(){if(this.field.definition_settings.handler_settings.target_bundles){var e=Object.keys(this.field.definition_settings.handler_settings.target_bundles);return this.field.definition_settings.handler_settings.target_bundles[e[0]]}return this.field.definition_settings.target_type?this.field.definition_settings.target_type:null},input:function(e){var t=[];t.push({target_id:e}),this.$emit("setValue",t)},getValue:function(){return this.model[this.field.name]&&this.model[this.field.name][0]?this.model[this.field.name][0].value?this.model[this.field.name][0].value:this.model[this.field.name][0].target_id:null}}},l=u,o=n(1001),d=(0,o.Z)(l,i,r,!1,null,null,null),c=d.exports},70915:function(e,t,n){"use strict";var i=n(93995),r=n(86017),a=(n(97330),n(12220),n(99215),n(61934),n(87330),n(1730)),s=n(5334),u=n(57724),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.Z)(this,e),this.entity_type_id=t,n||(n=t),this.url=s.Z.baseURl+"/"+this.entity_type_id+"/"+n,this.items=[],this.newConfig=r,r&&r.TestDomain&&(a.Z.TestDomain=r.TestDomain),this.filterQuery=""}return(0,r.Z)(e,[{key:"get",value:function(){var e=this;return new Promise((function(t){e.filterQuery&&(e.filterQuery=e.url.includes("?")?"&"+e.filterQuery:"?"+e.filterQuery),a.Z.dGet(e.url+e.filterQuery,s.Z.headers).then((function(n){e.items=n.data,t(n.data)}))}))}},{key:"getSearch",value:function(e){var t=this,n=new u.Z;return n.addFilter("name","CONTAINS",e),new Promise((function(e){a.Z.dGet(t.url+"?"+n.query,s.Z.headers).then((function(n){t.items=n.data,e(n.data)}))}))}},{key:"getValue",value:function(e){var t=this,n=new u.Z;return n.addFilter("name","=",e),new Promise((function(e){a.Z.dGet(t.url+"?"+n.query,s.Z.headers).then((function(n){t.items=n.data,e(n.data)}))}))}},{key:"getValueByTid",value:function(e){var t=this,n=new u.Z;return n.addFilter("tid","=",e),new Promise((function(e,i){a.Z.dGet(t.url+"?"+n.query,s.Z.headers).then((function(n){t.items=n.data,e(n.data)})).catch((function(e){i(e)}))}))}},{key:"getValueById",value:function(e){var t=this,n=new u.Z,i="drupal_internal__id";switch(this.entity_type_id){case"user":i="uid";break;case"node":i="drupal_internal__nid";break;case"taxonomy_term":i="tid";break}return n.addFilter(i,"=",e),new Promise((function(e){a.Z.dGet(t.url+"?"+n.query,s.Z.headers).then((function(n){t.items=n.data,e(n.data)}))}))}},{key:"filter",value:function(e,t,n){var i=new u.Z;i.addFilter(e,t,n),i.query&&(this.filterQuery+=i.query)}},{key:"addIncludesEntities",value:function(){}},{key:"getOptions",value:function(){var e=[];for(var t in this.items.data){var n=this.items.data[t];"user"==this.entity_type_id?e.push({text:n.attributes.name?n.attributes.name:n.attributes.display_name,value:n.attributes.drupal_internal__uid}):n.attributes.name?e.push({text:n.attributes.name,value:n.attributes.drupal_internal__id}):n.attributes.label&&e.push({text:n.attributes.label,value:n.attributes.drupal_internal__id})}return e}},{key:"remplaceConfig",value:function(){for(var e in this.newConfig)a.Z[e]=this.newConfig[e]}}]),e}();t["Z"]=l},4174:function(e,t,n){var i=n(51296),r=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},56239:function(e,t,n){var i=n(87852),r=n(34367),a=n(51296),s=a("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},43984:function(e,t,n){var i=n(56239),r=TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},99215:function(e,t,n){"use strict";var i=n(95276),r=n(78174).includes,a=n(52462),s=n(96215),u=a((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:u},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},61934:function(e,t,n){"use strict";var i=n(95276),r=n(49410),a=n(43984),s=n(28376),u=n(57491),l=n(4174),o=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~o(u(s(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=EntityDrupal.umd.min.903.js.map